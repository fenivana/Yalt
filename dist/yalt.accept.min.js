if(typeof module!="undefined"&&module.exports){var yalt=require("yalt");module.exports=yalt}yalt.accept=function(header){var langs=[];var pattern=/([a-z]+(?:-[a-z]+)*) *(?:; *q *= *(1|0\.[0-9]+))?/gi;var result;while(result=pattern.exec(header))langs.push([result[1],Number(result[2]||1)]);langs.sort(function(a,b){return b[1]-a[1]});return langs};yalt.select=function(available,accept){for(var i=0;i<accept.length;i++){var ac=accept[i][0].toLowerCase();for(var j=0;j<available.length;j++){var av=available[j];if(av.constructor==String){var avlc=av.toLowerCase();if(ac.indexOf(avlc)==0||avlc.indexOf(ac)==0)return av}else{var a=av[0];for(var k=0;k<av.length;k++){var b=av[k].toLowerCase();if(ac.indexOf(b)==0||b.indexOf(ac)==0)return a}}}}return available[0].constructor==String?available[0]:available[0][0]};